{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hayden\\\\Documents\\\\BVT School Work\\\\ChatGPT\\\\cookie-clicker-game\\\\src\\\\components\\\\player\\\\player.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styles from './player.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Player({\n  initialHP = 100,\n  userId,\n  setGameState\n}) {\n  _s();\n  // Define player state including HP, currency, inventory, and bank\n  const [player, setPlayer] = useState({\n    username: '',\n    hp: initialHP,\n    maxHP: initialHP,\n    currency: 0,\n    inventory: [],\n    bank: [],\n    maxInventorySpace: 10\n  });\n  useEffect(() => {\n    if (userId) {\n      console.log('Fetching player data for userId:', userId);\n      // Fetch player data from the backend\n      axios.get(`http://localhost:5000/api/player/${userId}`).then(response => {\n        console.log('Player data fetched:', response.data); // Log the fetched data for verification\n        const {\n          username,\n          hp,\n          maxHP,\n          currency,\n          inventory,\n          bank,\n          maxInventorySpace\n        } = response.data;\n\n        // Setting player data\n        setPlayer({\n          username,\n          hp,\n          maxHP,\n          currency,\n          inventory: inventory ? JSON.parse(inventory) : [],\n          bank: bank ? JSON.parse(bank) : [],\n          maxInventorySpace\n        });\n\n        // Update gameState with the fetched currency value for global use\n        setGameState(prevState => ({\n          ...prevState,\n          currency\n        }));\n        console.log(`Logged in as: ${username}`);\n      }).catch(error => {\n        console.error('Failed to fetch player data:', error);\n        console.log('Failed to fetch username');\n      });\n    }\n  }, [userId, setGameState]);\n\n  // Function to add an item to inventory\n  const addItemToInventory = item => {\n    if (player.inventory.length < player.maxInventorySpace) {\n      setPlayer(prevPlayer => ({\n        ...prevPlayer,\n        inventory: [...prevPlayer.inventory, item]\n      }));\n    } else {\n      console.log('Inventory is full. Item has been added to the bank.');\n      addItemToBank(item);\n    }\n  };\n\n  // Function to add an item to the bank\n  const addItemToBank = item => {\n    setPlayer(prevPlayer => ({\n      ...prevPlayer,\n      bank: [...prevPlayer.bank, item]\n    }));\n  };\n\n  // Function to remove an item from inventory and add it to the bank\n  const moveItemToBank = itemIndex => {\n    const item = player.inventory[itemIndex];\n    setPlayer(prevPlayer => {\n      const newInventory = [...prevPlayer.inventory];\n      newInventory.splice(itemIndex, 1);\n      return {\n        ...prevPlayer,\n        inventory: newInventory,\n        bank: [...prevPlayer.bank, item]\n      };\n    });\n  };\n\n  // Function to move an item from the bank to inventory\n  const moveItemToInventory = itemIndex => {\n    if (player.inventory.length < player.maxInventorySpace) {\n      const item = player.bank[itemIndex];\n      setPlayer(prevPlayer => {\n        const newBank = [...prevPlayer.bank];\n        newBank.splice(itemIndex, 1);\n        return {\n          ...prevPlayer,\n          inventory: [...prevPlayer.inventory, item],\n          bank: newBank\n        };\n      });\n    } else {\n      console.log('Inventory is full. Cannot retrieve item from bank.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.playerContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Player Stats\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), player.username ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Username: \", player.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Failed to fetch username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 63\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"HP: \", player.hp, \"/\", player.maxHP]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Currency: \", player.currency]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Inventory (\", player.inventory.length, \"/\", player.maxInventorySpace, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: styles.inventoryList,\n      children: player.inventory.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [item.name, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => moveItemToBank(index),\n          children: \"Move to Bank\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Bank (\", player.bank.length, \" items)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: styles.bankList,\n      children: player.bank.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [item.name, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => moveItemToInventory(index),\n          children: \"Retrieve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n_s(Player, \"71mXDMGcfsniEkyYxkrnd5iQjEI=\");\n_c = Player;\nexport default Player;\nvar _c;\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["React","useState","useEffect","axios","styles","jsxDEV","_jsxDEV","Player","initialHP","userId","setGameState","_s","player","setPlayer","username","hp","maxHP","currency","inventory","bank","maxInventorySpace","console","log","get","then","response","data","JSON","parse","prevState","catch","error","addItemToInventory","item","length","prevPlayer","addItemToBank","moveItemToBank","itemIndex","newInventory","splice","moveItemToInventory","newBank","className","playerContainer","children","fileName","_jsxFileName","lineNumber","columnNumber","inventoryList","map","index","name","onClick","bankList","_c","$RefreshReg$"],"sources":["C:/Users/Hayden/Documents/BVT School Work/ChatGPT/cookie-clicker-game/src/components/player/player.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport styles from './player.module.css';\r\n\r\nfunction Player({ initialHP = 100, userId, setGameState }) {\r\n  // Define player state including HP, currency, inventory, and bank\r\n  const [player, setPlayer] = useState({\r\n    username: '',\r\n    hp: initialHP,\r\n    maxHP: initialHP,\r\n    currency: 0,\r\n    inventory: [],\r\n    bank: [],\r\n    maxInventorySpace: 10,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      console.log('Fetching player data for userId:', userId);\r\n      // Fetch player data from the backend\r\n      axios.get(`http://localhost:5000/api/player/${userId}`)\r\n        .then((response) => {\r\n          console.log('Player data fetched:', response.data); // Log the fetched data for verification\r\n          const { username, hp, maxHP, currency, inventory, bank, maxInventorySpace } = response.data;\r\n  \r\n          // Setting player data\r\n          setPlayer({\r\n            username,\r\n            hp,\r\n            maxHP,\r\n            currency,\r\n            inventory: inventory ? JSON.parse(inventory) : [],\r\n            bank: bank ? JSON.parse(bank) : [],\r\n            maxInventorySpace,\r\n          });\r\n          \r\n          // Update gameState with the fetched currency value for global use\r\n          setGameState((prevState) => ({\r\n            ...prevState,\r\n            currency,\r\n          }));\r\n  \r\n          console.log(`Logged in as: ${username}`);\r\n        })\r\n        .catch((error) => {\r\n          console.error('Failed to fetch player data:', error);\r\n          console.log('Failed to fetch username');\r\n        });\r\n    }\r\n  }, [userId, setGameState]);\r\n\r\n  // Function to add an item to inventory\r\n  const addItemToInventory = (item) => {\r\n    if (player.inventory.length < player.maxInventorySpace) {\r\n      setPlayer((prevPlayer) => ({\r\n        ...prevPlayer,\r\n        inventory: [...prevPlayer.inventory, item],\r\n      }));\r\n    } else {\r\n      console.log('Inventory is full. Item has been added to the bank.');\r\n      addItemToBank(item);\r\n    }\r\n  };\r\n\r\n  // Function to add an item to the bank\r\n  const addItemToBank = (item) => {\r\n    setPlayer((prevPlayer) => ({\r\n      ...prevPlayer,\r\n      bank: [...prevPlayer.bank, item],\r\n    }));\r\n  };\r\n\r\n  // Function to remove an item from inventory and add it to the bank\r\n  const moveItemToBank = (itemIndex) => {\r\n    const item = player.inventory[itemIndex];\r\n    setPlayer((prevPlayer) => {\r\n      const newInventory = [...prevPlayer.inventory];\r\n      newInventory.splice(itemIndex, 1);\r\n      return {\r\n        ...prevPlayer,\r\n        inventory: newInventory,\r\n        bank: [...prevPlayer.bank, item],\r\n      };\r\n    });\r\n  };\r\n\r\n  // Function to move an item from the bank to inventory\r\n  const moveItemToInventory = (itemIndex) => {\r\n    if (player.inventory.length < player.maxInventorySpace) {\r\n      const item = player.bank[itemIndex];\r\n      setPlayer((prevPlayer) => {\r\n        const newBank = [...prevPlayer.bank];\r\n        newBank.splice(itemIndex, 1);\r\n        return {\r\n          ...prevPlayer,\r\n          inventory: [...prevPlayer.inventory, item],\r\n          bank: newBank,\r\n        };\r\n      });\r\n    } else {\r\n      console.log('Inventory is full. Cannot retrieve item from bank.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.playerContainer}>\r\n      <h2>Player Stats</h2>\r\n      {player.username ? <p>Username: {player.username}</p> : <p>Failed to fetch username</p>}\r\n      <p>HP: {player.hp}/{player.maxHP}</p>\r\n      <p>Currency: {player.currency}</p> {/* Display the player's currency */}\r\n\r\n      <h3>Inventory ({player.inventory.length}/{player.maxInventorySpace})</h3>\r\n      <ul className={styles.inventoryList}>\r\n        {player.inventory.map((item, index) => (\r\n          <li key={index}>\r\n            {item.name} \r\n            <button onClick={() => moveItemToBank(index)}>Move to Bank</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <h3>Bank ({player.bank.length} items)</h3>\r\n      <ul className={styles.bankList}>\r\n        {player.bank.map((item, index) => (\r\n          <li key={index}>\r\n            {item.name} \r\n            <button onClick={() => moveItemToInventory(index)}>Retrieve</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Player;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}